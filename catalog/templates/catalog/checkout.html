{% extends 'base.html' %}

{% load custom_filters %} 

{% block title %}Checkout - VicStore{% endblock %}

{% block content %}
    <section class="checkout-container">
        <h1 class="catalog-title">Checkout</h1>
        <p class="checkout-intro">Review and confirm your order before proceeding to payment.</p>

        <div class="order-summary">
            <h3>Order Summary</h3>
            <ul>
                {% for item in cart.values %}
                    <li>
                        <span class="item-name">{{ item.name }}</span> - 
                        <span class="item-price">${{ item.price }}</span> x 
                        <span class="item-quantity">{{ item.quantity }}</span>
                        <span class="item-total">= ${{ item.price|multiply:item.quantity }}</span>
                    </li>
                {% empty %}
                    <li>No items in your cart.</li>
                {% endfor %}
            </ul>
            <div class="total-price">
                <h3>Total: ${{ total_price }}</h3>
            </div>
        </div>

        <form method="POST" class="checkout-form">
            {% csrf_token %}
            <div class="form-group">
                <label for="shipping_address" class="form-label">Shipping Address:</label>
                <input type="text" id="shipping_address" name="shipping_address" required class="input-field" placeholder="Enter your shipping address">
            </div>

            <div class="form-group">
                <label for="payment_method" class="form-label">Payment Method:</label>
                <select id="payment_method" name="payment_method" class="input-field">
                    <option value="credit_card">Credit Card</option>
                    <option value="paypal">PayPal</option>
                </select>
            </div>

            <button type="submit" class="button submit-button">Place Order</button>
        </form>
    </section>
{% endblock %}
